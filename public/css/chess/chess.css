/* /public/css/chess/chess.css */

/* Defines the visual layout and theming for the chess application.
   Utilizes CSS Grid for the 8x8 board to ensure perfect square proportions
   and responsive scaling across devices. Variables are used for board colors
   to allow for easy theme swapping (e.g., dark mode) in the future. */

:root {
    --light-square: #f0d9b5;
    --dark-square: #b58863;
    --highlight: rgba(255, 255, 51, 0.5);
    --possible-move: rgba(20, 85, 30, 0.5);
    --board-border: #4a2e15;
}

/* Container for the entire chess view to keep elements centered and readable */
.chess-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

/* Game wrapper maintains the layout hierarchy between player info and the board */
.game-wrapper {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    max-width: 600px;
}

/* The core 8x8 grid definition. 
   Using aspect-ratio ensures the board remains perfectly square 
   regardless of the viewport width. */
#chess-board {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    aspect-ratio: 1 / 1;
    width: 100%;
    border: 4px solid var(--board-border);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    background-color: var(--light-square);
}

/* Individual squares on the board.
   Position relative is required so absolute-positioned piece images or
   highlight markers stay constrained within the specific square boundary. */
.square {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: clamp(2rem, 5vw, 4rem); /* Scales unicode piece size based on board width */
    user-select: none;
    cursor: pointer;
}

/* Dark squares override the background color. 
   Light squares fall back to the board's default background color. */
.square.dark {
    background-color: var(--dark-square);
}

/* Visual indicator for a square that the user has currently clicked/selected */
.square.selected::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: var(--highlight);
    z-index: 1;
}

/* Visual indicator for valid destination squares during a move calculation */
.square.valid-move::after {
    content: '';
    position: absolute;
    width: 25%;
    height: 25%;
    border-radius: 50%;
    background-color: var(--possible-move);
    z-index: 2;
}

/* Elevates the actual chess piece above the highlight overlays */
.square .piece {
    position: relative;
    z-index: 3;
}

/* Player information panels (names and captured pieces container) */
.player-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 5px;
    border: 1px solid #ddd;
}

/* Status panel for turn tracking and debug information */
.status-panel {
    margin-top: 20px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
}