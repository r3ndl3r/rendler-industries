/* /public/css/chess/chess.css */

/* Defines the visual layout and theming for the chess application.
   Utilizes CSS Grid for the 8x8 board to ensure perfect square proportions
   and responsive scaling across devices. Variables are used for board colors
   to allow for easy theme swapping (e.g., dark mode) in the future. */

:root {
    --light-square: #f0d9b5;
    --dark-square: #b58863;
    --highlight: rgba(255, 255, 51, 0.5);
    --possible-move: rgba(20, 85, 30, 0.5);
    --board-border: #4a2e15;
}

/* Container for the entire chess view to keep elements centered and readable */
.chess-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

/* Game wrapper maintains the layout hierarchy between player info and the board */
.game-wrapper {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}

.board-container {
    width: 100%;
    max-width: 75vh; /* Prevents the board from becoming taller than the screen */
    margin: 0 auto;
}

/* The core 8x8 grid definition. 
   Using aspect-ratio ensures the board remains perfectly square 
   regardless of the viewport width. */
#chess-board {
    display: grid;
    grid-template-columns: repeat(8, 12.5%);
    grid-template-rows: repeat(8, 12.5%);
    aspect-ratio: 1 / 1;
    width: 100%;
    border: 4px solid var(--board-border);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    background-color: var(--light-square);
    overflow: hidden;
}

/* Individual squares on the board.
   Position relative is required so absolute-positioned piece images or
   highlight markers stay constrained within the specific square boundary. */
.square {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: clamp(2rem, 5vw, 3.5rem);
    user-select: none;
    cursor: pointer;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
}

/* Dark squares override the background color. 
   Light squares fall back to the board's default background color. */
.square.dark {
    background-color: var(--dark-square);
}

/* Visual indicator for a square that the user has currently clicked/selected */
.square.selected::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: var(--highlight);
    z-index: 1;
}

/* Visual indicator for valid destination squares during a move calculation */
.square.valid-move::after {
    content: '';
    position: absolute;
    width: 25%;
    height: 25%;
    border-radius: 50%;
    background-color: var(--possible-move);
    z-index: 2;
}

/* Elevates the actual chess piece above the highlight overlays */
.square .piece {
    position: relative;
    z-index: 3;
}

.white-piece {
    color: #ffffff;
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

.black-piece {
    color: #000000;
}

/* Player information panels (names and captured pieces container) */
.player-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: #1e293b; /* Dark slate background */
    color: #f8fafc; /* Light text */
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.player-name {
    font-size: 1.1rem;
}

.player-name strong {
    color: var(--accent-color, #38bdf8);
    margin-right: 5px;
}

.captured-pieces {
    display: flex;
    gap: 2px;
    min-height: 1.5rem;
    font-size: 1.2rem;
}

/* Status panel for turn tracking and debug information */
.status-panel {
    margin-top: 20px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
}